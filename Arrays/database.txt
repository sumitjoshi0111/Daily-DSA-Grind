#include <iostream>
#include <algorithm>
using namespace std;

struct Student {
    int id;
    string name;
    float cgpa;
};

// Display all students
void display(Student db[], int n) {
    cout << "\nID\tName\tCGPA\n";
    for (int i = 0; i < n; i++)
        cout << db[i].id << "\t" << db[i].name << "\t" << db[i].cgpa << "\n";
}

// Linear Search by ID
int linearSearch(Student db[], int n, int key) {
    for (int i = 0; i < n; i++)
        if (db[i].id == key)
            return i;
    return -1;
}

// Binary Search by ID (on sorted array)
int binarySearch(Student db[], int n, int key) {
    int l = 0, r = n - 1;
    while (l <= r) {
        int mid = (l + r) / 2;
        if (db[mid].id == key)
            return mid;
        else if (db[mid].id < key)
            l = mid + 1;
        else
            r = mid - 1;
    }
    return -1;
}

// Sort by ID
void sortById(Student db[], int n) {
    for (int i = 0; i < n - 1; i++) {
        for (int j = i + 1; j < n; j++) {
            if (db[i].id > db[j].id)
                swap(db[i], db[j]);
        }
    }
    cout << "Sorted by ID.\n";
}

int main() {
    Student db[100]; // Maximum 100 students
    int n = 0;       // Current number of students
    int choice;

    while (true) {
        cout << "\n--- Student Database Menu ---\n";
        cout << "1. Add Student\n";
        cout << "2. Display All\n";
        cout << "3. Linear Search by ID\n";
        cout << "4. Sort by ID\n";
        cout << "5. Binary Search by ID\n";
        cout << "6. Exit\n";
        cout << "Enter choice: ";
        cin >> choice;

        if (choice == 1) {
            if (n >= 100) {
                cout << "Database full!\n";
                continue;
            }
            cout << "Enter ID Name CGPA: ";
            cin >> db[n].id >> db[n].name >> db[n].cgpa;
            n++;
        }
        else if (choice == 2) {
            if (n == 0) cout << "No records.\n";
            else display(db, n);
        }
        else if (choice == 3) {
            int key;
            cout << "Enter ID to search: ";
            cin >> key;
            int idx = linearSearch(db, n, key);
            if (idx != -1)
                cout << "Found: " << db[idx].name << " " << db[idx].cgpa << "\n";
            else
                cout << "Not found.\n";
        }
        else if (choice == 4) {
            sortById(db, n);
        }
        else if (choice == 5) {
            if (n == 0) {
                cout << "Database empty.\n";
                continue;
            }
            int key;
            cout << "Enter ID to search: ";
            cin >> key;
            int idx = binarySearch(db, n, key);
            if (idx != -1)
                cout << "Found: " << db[idx].name << " " << db[idx].cgpa << "\n";
            else
                cout << "Not found.\n";
        }
        else if (choice == 6) break;
        else cout << "Invalid choice.\n";
    }
    return 0;
}

